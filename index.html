<!doctype html>
<html lang="pl">
  <head>
    <meta charset="utf-8" />
    <meta name="viewport" content="width=device-width, initial-scale=1, viewport-fit=cover" />
    <title>CorpoLife RPG â€“ Pixel Art</title>
    <meta name="description" content="Satyryczna gra RPG o Å¼yciu w polskiej korporacji â€“ pixel art.">
    <link rel="stylesheet" href="./styles.css" />
  </head>
  <body>
    <div id="wrapper">
      <canvas id="gameCanvas" width="768" height="576"></canvas>
      <div id="overlay" class="hidden"></div>
      <div id="dialog" class="hidden">
        <button id="dialogClose" class="dialog-close" aria-label="Zamknij">Ã—</button>
        <div style="display:flex;gap:12px;align-items:center;">
          <canvas id="dialogAvatar" width="128" height="128" style="image-rendering: pixelated; border:1px solid #1f2937; background:#0b1222"></canvas>
          <div>
            <div id="dialogName"></div>
            <div id="dialogSub" class="mono" style="opacity:.8;font-size:12px"></div>
          </div>
        </div>
        <div id="dialogText"></div>
        <div id="dialogHint">[E] â€“ kontynuuj â€¢ [Esc] â€“ zamknij</div>
      </div>
      <div id="hud">
        <div class="hud-item">â˜• Kawa: <span id="hudCoffee">0</span></div>
        <div class="hud-item">ğŸ“ˆ Stres: <span id="hudStress">0</span>/100</div>
        <div class="hud-item">ğŸ“Š Dane: <span id="hudJira">0</span></div>
        <div class="hud-item">ğŸ•’ <span id="hudClock">09:00</span></div>
        <div class="hud-item">ğŸ³ï¸ Frakcja: <span id="hudFaction">â€”</span></div>
        <div class="hud-item">ğŸ’ Ekwipunek: <span id="hudInvCount">0</span></div>
        <div class="hud-item">ğŸ¯ Zadanie: <span id="hudQuest">â€”</span></div>
        <button id="btnMusic" class="btn">ğŸµ Loâ€‘fi: ON</button>
        <button id="btnTimeMode" class="btn">â±ï¸ 30m</button>
        <button id="btnPopups" class="btn">ğŸ”” Popups: ON</button>
        <button id="btnFinish" class="btn">ğŸ</button>
        <button id="btnFactions" class="btn">ğŸ³ï¸ Frakcje</button>
        <button id="btnTracker" class="btn">ğŸ“ Cele</button>
        <button id="btnHelp" class="btn">â“</button>
        <button id="btnLog" class="btn">ğŸ““</button>
        
        <button id="btnPhone" class="btn">ğŸ“±</button>
        <button id="btnPause" class="btn">â¸ï¸</button>
      </div>
      <!-- Factions moved to modal -->
      <div id="factionsModal" class="modal hidden">
        <div class="modal-title">Frakcje i Reputacja</div>
        <div class="modal-body">
          <div class="f-row"><span class="dot it"></span> IT <div class="bar"><div id="repIT" class="fill it"></div></div></div>
          <div class="f-row"><span class="dot hr"></span> HR <div class="bar"><div id="repHR" class="fill hr"></div></div></div>
          <div class="f-row"><span class="dot mgmt"></span> MGMT <div class="bar"><div id="repMGMT" class="fill mgmt"></div></div></div>
        </div>
        <div class="modal-actions">
          <button id="btnFactionsClose" class="btn">Zamknij</button>
        </div>
      </div>
      <div id="toast" class="toast hidden"></div>
      <!-- Tracker przeniesiony do modalu, by nie zasÅ‚aniaÅ‚ ekranu -->
      <div id="trackerModal" class="modal hidden">
        <div class="modal-title">Cele</div>
        <ul id="trackerList" class="mono" style="max-height:240px;overflow:auto"></ul>
        <div class="modal-actions">
          <button id="btnTrackerClose" class="btn">Zamknij</button>
        </div>
      </div>
      <div id="helpModal" class="modal hidden">
        <div class="modal-title">Jak graÄ‡ â€“ CorpoLife RPG</div>
        <div class="modal-body">
          - Ruch: WASD/strzaÅ‚ki â€¢ Rozmowa: E â€¢ Zamknij: Esc<br/>
          - Muzyka: przycisk ğŸµ â€¢ Pomoc: â“ â€¢ Dziennik: ğŸ““ â€¢ Bingo: ğŸ§ <br/>
          - Obiekty interaktywne (E): lodÃ³wka/ekspres w kuchni (kawa, cooldown), roÅ›lina â€Stefanâ€ (â€“stres, cooldown).<br/>
          - Stres spowalnia postaÄ‡ i blokuje niektÃ³re opcje dialogowe. Kawa i â€Stefanâ€ obniÅ¼ajÄ… stres.<br/>
          - Codzienne eventy: daily o 9:05, randomowe side-questy w ciÄ…gu dnia.<br/>
          - Cel: przygotuj raport (czÅ‚owiek/liczba/ryzyko) na spotkanie zarzÄ…du o 17:30. Zbieraj <b>Dane</b> (ğŸ“Š) â€“ konkretne caseâ€™y do prezentacji.<br/>
          - Tryby czasu (klawisze 1/2/3/4): 30/60/90/âˆ min (âˆ = brak limitu, idziesz do CEO kiedy chcesz). W trybach z limitem gra koÅ„czy siÄ™ o 17:30 automatycznie spotkaniem u CEO.<br/>
          - Lista celÃ³w: ğŸ“ Cele (HUD) â€“ otwiera podglÄ…d zadaÅ„ zamiast staÅ‚ego okienka.
          - ZakoÅ„czenie: ğŸ â€“ moÅ¼esz w kaÅ¼dej chwili pÃ³jÅ›Ä‡ do CEO i zakoÅ„czyÄ‡ grÄ™.
        </div>
        <div class="modal-actions">
          <button id="btnHelpClose" class="btn">OK</button>
        </div>
      </div>

      <div id="logModal" class="modal hidden">
        <div class="modal-title">Dziennik zadaÅ„</div>
        <div id="logList" class="modal-body mono"></div>
        <div class="modal-actions">
          <button id="btnLogClose" class="btn">Zamknij</button>
        </div>
      </div>

      <div id="bingoModal" class="modal hidden">
        <div class="modal-title">Buzzword Bingo (Daily)</div>
        <div id="bingoGrid" class="bingo-grid"></div>
        <div class="modal-actions">
          <button id="btnBingoClose" class="btn">WyjdÅº</button>
        </div>
      </div>

      <div id="diceModal" class="modal hidden">
        <div class="modal-title">Rzut kostkÄ…</div>
        <div id="diceBody" class="modal-body mono"></div>
        <div class="modal-actions">
          <button id="btnDiceClose" class="btn">OK</button>
        </div>
      </div>

      <div id="choiceModal" class="modal hidden">
        <div id="choiceTitle" class="modal-title">WybÃ³r</div>
        <div id="choiceBody" class="modal-body"></div>
        <div id="choiceList" class="choices"></div>
      </div>

      <div id="phoneModal" class="modal hidden">
        <div class="modal-title">Smartfon</div>
        <div class="modal-body">
          <div><b>WiadomoÅ›ci</b></div>
          <div id="inboxList" class="mono" style="max-height:160px;overflow:auto"></div>
          <div style="margin-top:8px"><b>Ekwipunek</b></div>
          <div id="invList" class="mono"></div>
        </div>
        <div class="modal-actions">
          <button id="btnPhoneClose" class="btn">Zamknij</button>
        </div>
      </div>

      <div id="pauseModal" class="modal hidden">
        <div class="modal-title">Pauza</div>
        <div class="modal-body">
          Gra zapisuje siÄ™ automatycznie w pauzie. MoÅ¼esz kontynuowaÄ‡ lub rozpoczÄ…Ä‡ nowÄ… grÄ™.
        </div>
        <div class="modal-actions">
          <button id="btnContinue" class="btn">Kontynuuj</button>
          <button id="btnNewGame" class="btn">Nowa gra</button>
        </div>
      </div>

      <div id="skillsModal" class="modal hidden">
        <div class="modal-title">Wybierz 2 talenty startowe</div>
        <div class="modal-body">KaÅ¼dy talent daje +2 do testÃ³w. Nazwy sÄ… satyryczne, ale mechanika powaÅ¼na.</div>
        <div class="skills-grid">
          <button class="btn skill" data-skill="emp">ğŸ’› Serducho HR-u (+2 Empatia)</button>
          <button class="btn skill" data-skill="log">ğŸ”§ Kult Stacktrace'a (+2 Logika)</button>
          <button class="btn skill" data-skill="ret">ğŸ“Š PowerPoint Ninja (+2 Retoryka)</button>
          <button class="btn skill" data-skill="grit">ğŸ‹ï¸ Sprintowy CzoÅ‚g (+2 Grit)</button>
        </div>
        <div class="modal-actions">
          <span id="skillsCounter" class="mono">Wybrane: 0/2</span>
          <button id="skillsConfirm" class="btn" disabled>Start</button>
        </div>
      </div>
      <!-- Mobile joystick -->
        <!-- D-Pad (Game Boy style) -->
        <div id="dpad" class="dpad" aria-label="D-Pad">
          <button class="dpad-btn up" data-x="0" data-y="-1" aria-label="GÃ³ra">â–²</button>
          <button class="dpad-btn left" data-x="-1" data-y="0" aria-label="Lewo">â—€</button>
          <button class="dpad-btn right" data-x="1" data-y="0" aria-label="Prawo">â–¶</button>
          <button class="dpad-btn down" data-x="0" data-y="1" aria-label="DÃ³Å‚">â–¼</button>
        </div>
        <!-- Mobile confirm action (advance dialog/choice / interact) -->
        <button id="actionConfirm" class="action-btn" aria-label="Interakcja">E</button>
    </div>
    <script type="module" src="./src/main.js"></script>
  </body>
</html>


